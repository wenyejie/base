<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <title>Demo1</title>
  </head>
  <body>
    <form novalidate>
      <input type="text" name="mobile" placeholder="请输入手机号码" />
      <input type="text" name="captcha" placeholder="请输入验证码" />
      <button type="submit" class="submit">Submit</button>
    </form>
    <script>
      // Good
      function required(value, required) {
        return required ? !!value : true
      }

      function minlength(value, minlength) {
        return minlength > 0 ? `${value}`.length >= minlength : true
      }

      function formItemValidate(value, rules) {
        const validity = {}
        rules.forEach((item) => {
          validity[`$${item.name}`] = item.validator(value, item.property)
        })
        return validity
      }

      formItemValidate('13411111111', [
        {
          name: 'required',
          property: true,
          validator: required
        },
        {
          name: 'minlength',
          property: 11,
          validator: minlength
        }
      ]) // { $required: true, $minlength: true }
    </script>
  </body>
</html>
