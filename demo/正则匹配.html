<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <title>Title</title>
  </head>
  <body>
    <script>
      const str = `


























#import <Foundation/Foundation.h>






#import "RNCryptor+Swift.h"

#import <Security/Security.h>

extern NSString *const kRNCryptorErrorDomain;
extern const uint8_t kRNCryptorFileVersion;

typedef struct _RNCryptorKeyDerivationSettings
{
  size_t keySize;
  size_t saltSize;
  CCPBKDFAlgorithm PBKDFAlgorithm;
  CCPseudoRandomAlgorithm PRF;
  uint rounds;
  BOOL hasV2Password;

} RNCryptorKeyDerivationSettings;

typedef struct _RNCryptorSettings
{
  CCAlgorithm algorithm;
  size_t blockSize;
  size_t IVSize;
  CCOptions options;
  CCHmacAlgorithm HMACAlgorithm;
  size_t HMACLength;
  RNCryptorKeyDerivationSettings keySettings;
  RNCryptorKeyDerivationSettings HMACKeySettings;
} RNCryptorSettings;

static const RNCryptorSettings kRNCryptorAES256Settings = {
  .algorithm = kCCAlgorithmAES128,
  .blockSize = kCCBlockSizeAES128,
  .IVSize = kCCBlockSizeAES128,
  .options = kCCOptionPKCS7Padding,
  .HMACAlgorithm = kCCHmacAlgSHA256,
  .HMACLength = CC_SHA256_DIGEST_LENGTH,

  .keySettings = {
    .keySize = kCCKeySizeAES256,
    .saltSize = 8,
    .PBKDFAlgorithm = kCCPBKDF2,
    .PRF = kCCPRFHmacAlgSHA1,
    .rounds = 10000
  },

  .HMACKeySettings = {
    .keySize = kCCKeySizeAES256,
    .saltSize = 8,
    .PBKDFAlgorithm = kCCPBKDF2,
    .PRF = kCCPRFHmacAlgSHA1,
    .rounds = 10000
  }
};

enum _RNCryptorOptions
{
  kRNCryptorOptionHasPassword = 1 << 0,
};
typedef uint8_t RNCryptorOptions;

enum
{
  kRNCryptorHMACMismatch = 1,
  kRNCryptorUnknownHeader = 2,
};

@class RNCryptor;

typedef void (^RNCryptorHandler)(RNCryptor *cryptor, NSData *data);











@interface RNCryptor : NSObject
@property (nonatomic, readonly, strong) NSError *error;
@property (nonatomic, readonly, getter=isFinished) BOOL finished;
@property (nonatomic, readonly, copy) RNCryptorHandler handler;
@property (nonatomic, readwrite) dispatch_queue_t responseQueue;

- (void)addData:(NSData *)data;
- (void)finish;


+ (NSData *)keyForPassword:(NSString *)password salt:(NSData *)salt settings:(RNCryptorKeyDerivationSettings)keySettings;


+ (NSData *)randomDataOfLength:(size_t)length;

@end

      `
      const regexp = /typedef\s+struct\s+\w+\s+{([^{}]*)}/gm
      console.log(str.match(regexp))
    </script>
  </body>
</html>
