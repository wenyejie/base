<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <title>03-插入排序</title>
  </head>
  <body>
    <script type="module">
      import data from './data.js'

      /**
       * 插入排序
       * 参考文档: https://github.com/hustcc/JS-Sorting-Algorithm/blob/master/3.insertionSort.md
       * @param array {Array} 排序数组
       * @return {Array} 排序后的数组
       */
      const insertionSort = (array) => {
        const length = array.length
        const data = array.slice()
        let prevIndex = 0
        let current = 0

        for (let i = 1; i < length; i++) {
          prevIndex = i - 1
          current = data[i]
          while (prevIndex >= 0 && data[prevIndex] > current) {
            console.log(
              `第${i}次循环, 第${prevIndex}次比较: `,
              data[prevIndex],
              current,
              JSON.stringify(data)
            )
            data[prevIndex + 1] = data[prevIndex]
            prevIndex--
          }
          data[prevIndex + 1] = current
        }

        return data
      }

      console.log(`旧数据: ${data}`)

      console.log(`新数据: ${insertionSort(data)}`)
    </script>
  </body>
</html>
