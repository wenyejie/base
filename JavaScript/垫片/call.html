<!doctype html>
<!--
 - @author: Storm
 - @date: 12/10/20
 - @email: wenyejie@foxmail.com
 -->
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <title>call</title>
</head>
<body>
  <script>
  function shimCall (obj = window, fn, ...params) {
    obj.fn = fn
    obj.fn(...params)
    delete obj.fn
    return obj
  }

  function Person (name, age) {
    this.name = name
    this.age = age
  }
  Person.prototype.sayHi = function () {
    console.log(`HI, ${this.name}`)
  }

  const obj = {}
  shimCall(obj, Person, 'storm', 18)
  console.log(obj)
  </script>
</body>
</html>
